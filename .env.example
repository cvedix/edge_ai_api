# ============================================
# Edge AI API - Environment Variables Configuration
# ============================================
# 
# Copy this file to .env and customize the values for your environment
# 
# Usage:
#   cp .env.example .env
#   nano .env  # Edit with your values
#   ./scripts/load_env.sh
#
# ============================================

# ============================================
# Server Configuration
# ============================================

# API Server Host (0.0.0.0 = listen on all interfaces, 127.0.0.1 = localhost only)
API_HOST=0.0.0.0

# API Server Port
API_PORT=8080

# Maximum request body size (bytes, default: 1MB = 1048576)
CLIENT_MAX_BODY_SIZE=1048576

# Maximum memory body size (bytes, default: 1MB = 1048576)
CLIENT_MAX_MEMORY_BODY_SIZE=1048576

# Number of worker threads (0 = auto-detect, minimum 8 for AI workloads)
THREAD_NUM=0

# ============================================
# Logging Configuration
# ============================================

# Log level (TRACE, DEBUG, INFO, WARN, ERROR, FATAL, NONE)
LOG_LEVEL=INFO

# Log directory (default: ./logs)
LOG_DIR=./logs

# Log retention days (auto-delete logs older than this, default: 30)
LOG_RETENTION_DAYS=30

# Maximum disk usage percentage before cleanup (default: 85%)
LOG_MAX_DISK_USAGE_PERCENT=85

# Cleanup check interval in hours (default: 24)
LOG_CLEANUP_INTERVAL_HOURS=24

# ============================================
# Performance Optimization
# ============================================

# Keep-alive: number of requests to keep connection alive (default: 100)
KEEPALIVE_REQUESTS=100

# Keep-alive timeout in seconds (default: 60)
KEEPALIVE_TIMEOUT=60

# Enable port reuse for load distribution (true/false, default: true)
ENABLE_REUSE_PORT=true

# ============================================
# Watchdog Configuration
# ============================================

# Watchdog check interval in milliseconds (default: 5000)
WATCHDOG_CHECK_INTERVAL_MS=5000

# Watchdog timeout in milliseconds (default: 30000)
WATCHDOG_TIMEOUT_MS=30000

# ============================================
# Health Monitor Configuration
# ============================================

# Health monitor check interval in milliseconds (default: 1000)
HEALTH_MONITOR_INTERVAL_MS=1000

# ============================================
# Instance Management
# ============================================

# Instances storage directory (default: /opt/edge_ai_api/instances)
INSTANCES_DIR=/opt/edge_ai_api/instances

# Models storage directory (default: ./models)
MODELS_DIR=./models

# ============================================
# RTSP Transport Protocol
# ============================================

# GStreamer RTSP transport protocol (tcp or udp, default: tcp)
# Note: TCP is more reliable but UDP is faster. Use UDP only in trusted networks.
GST_RTSP_PROTOCOLS=tcp

# Alternative name for GST_RTSP_PROTOCOLS
RTSP_TRANSPORT=tcp

# ============================================
# CVEDIX SDK Configuration (Optional)
# ============================================

# CVEDIX data root directory (default: ./cvedix_data/)
# CVEDIX_DATA_ROOT=./cvedix_data/

# RTSP source URL (example)
# CVEDIX_RTSP_URL=rtsp://example.com/stream

# RTMP output URL (example)
# CVEDIX_RTMP_URL=rtmp://example.com/live/stream

# ============================================
# Display Configuration (Optional)
# ============================================

# X11 Display (auto-detected if not set)
# DISPLAY=:0

# Wayland Display (auto-detected if not set)
# WAYLAND_DISPLAY=wayland-0

# ============================================
# Notes
# ============================================
#
# 1. All paths can be absolute or relative to project root
# 2. Boolean values: use "true" or "false" (case-insensitive)
# 3. Numeric values: use integers (no quotes needed)
# 4. Empty values or commented lines use defaults
# 5. This file is a template - copy to .env and customize
# 6. .env file is git-ignored for security
#
# For more details, see: docs/ENVIRONMENT_VARIABLES.md
