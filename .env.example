# Edge AI API Environment Variables
# Copy this file to .env and customize for your environment
# cp .env.example .env

# ============================================
# Server Configuration
# ============================================
API_HOST=0.0.0.0
API_PORT=8080
THREAD_NUM=0

# ============================================
# Logging Configuration
# ============================================
LOG_LEVEL=INFO
LOG_DIR=./logs
LOG_RETENTION_DAYS=30
LOG_MAX_DISK_USAGE_PERCENT=85
LOG_CLEANUP_INTERVAL_HOURS=24

# ============================================
# Configuration File
# ============================================
# Path to config.json (absolute path or relative to working directory)
# Auto-detection order: ./config.json -> /opt/edge_ai_api/config/config.json -> /etc/edge_ai_api/config.json
CONFIG_FILE=./config.json

# ============================================
# Storage Directories
# ============================================
# Instances directory (default: /opt/edge_ai_api/instances)
INSTANCES_DIR=/opt/edge_ai_api/instances

# Models directory (default: ./models)
MODELS_DIR=./models

# Solutions directory (default: ./solutions)
SOLUTIONS_DIR=./solutions

# ============================================
# Performance Optimization
# ============================================
KEEPALIVE_REQUESTS=100
KEEPALIVE_TIMEOUT=60
ENABLE_REUSE_PORT=true

# ============================================
# Client Configuration
# ============================================
CLIENT_MAX_BODY_SIZE=1048576
CLIENT_MAX_MEMORY_BODY_SIZE=1048576

# ============================================
# Watchdog Configuration
# ============================================
WATCHDOG_CHECK_INTERVAL_MS=5000
WATCHDOG_TIMEOUT_MS=30000

# ============================================
# Health Monitor Configuration
# ============================================
HEALTH_MONITOR_INTERVAL_MS=1000

# ============================================
# Worker Configuration (Subprocess Mode)
# ============================================
# Execution mode: "in-process" or "subprocess"
EDGE_AI_EXECUTION_MODE=in-process

# Worker executable path (for subprocess mode)
EDGE_AI_WORKER_PATH=edge_ai_worker

# Socket directory for IPC (default: /opt/edge_ai_api/run)
# Fallback to /tmp if permission denied
EDGE_AI_SOCKET_DIR=/opt/edge_ai_api/run

# ============================================
# RTSP Transport Protocol
# ============================================
# Use "tcp" (default, more reliable) or "udp" (faster but may be blocked by firewall)
GST_RTSP_PROTOCOLS=tcp
RTSP_TRANSPORT=tcp

# ============================================
# CVEDIX SDK Configuration (Example)
# ============================================
# CVEDIX data/models root directory
CVEDIX_DATA_ROOT=./cvedix_data/

# RTSP source URL (example)
# CVEDIX_RTSP_URL=rtsp://example.com/stream

# RTMP output URL (example)
# CVEDIX_RTMP_URL=rtmp://example.com/live/stream

# ============================================
# System Limits
# ============================================
# Maximum number of running instances (0 = unlimited)
MAX_RUNNING_INSTANCES=0

# ============================================
# Development/Debug Options
# ============================================
# Enable debug mode (shows analysis board)
# DEBUG_MODE=false

# Display variable (auto-detected, override if needed)
# DISPLAY=:0
